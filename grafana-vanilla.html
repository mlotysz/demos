<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-06-08 Thu 13:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Grafana and TICK stack demo</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Maciej Łotysz" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Grafana and TICK stack demo</h1>

<div id="outline-container-org605b823" class="outline-2">
<h2 id="org605b823">What is this?</h2>
<div class="outline-text-2" id="text-org605b823">
<p>
Some slides to guide workshop for TICK stack and Grafana demo.
</p>
</div>
</div>

<div id="outline-container-orgb0f43d8" class="outline-2">
<h2 id="orgb0f43d8">Setup developer environment</h2>
<div class="outline-text-2" id="text-orgb0f43d8">
</div><div id="outline-container-orgb44d7c7" class="outline-3">
<h3 id="orgb44d7c7">Install docker</h3>
<div class="outline-text-3" id="text-orgb44d7c7">
<ul class="org-ul">
<li><a href="https://docs.docker.com/engine/installation/">Install docker</a></li>
<li><a href="https://docs.docker.com/compose/install/">Install docker-compose</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge38229d" class="outline-3">
<h3 id="orge38229d">Pull TICK docker images</h3>
<div class="outline-text-3" id="text-orge38229d">
<p>
<a href="https://github.com/influxdata/TICK-docker">TICK docker repository</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">mkdir -p ~/influxdb &amp;&amp; <span style="color: #2d9574;">\</span>
    <span style="color: #4f97d7;">cd</span> ~/influxdb &amp;&amp; <span style="color: #2d9574;">\</span>
    git clone git@github.com:influxdata/TICK-docker.git docker
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c4c8bc" class="outline-3">
<h3 id="org4c4c8bc">Add grafana to docker-compose.yml</h3>
<div class="outline-text-3" id="text-org4c4c8bc">
<div class="org-src-container">
<pre class="src src-sh">nano ~/influxdb/docker/1.2/docker-compose.yml
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">grafana:
  image: grafana/grafana
  ports:
    - <span style="color: #2d9574;">"3000:3000"</span>
  links:
    - influxdb
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd19e0a2" class="outline-3">
<h3 id="orgd19e0a2">Download it and run</h3>
<div class="outline-text-3" id="text-orgd19e0a2">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #4f97d7;">cd</span> ~/influxdb/docker/1.2 &amp;&amp; <span style="color: #2d9574;">\</span>
    docker-compose up -d
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge21b65c" class="outline-2">
<h2 id="orge21b65c">InfluxDB</h2>
<div class="outline-text-2" id="text-orge21b65c">
<p>
It is an open source, distributed time series database. It is written in Go and
optimized for fast, high-availability storage and retrieval of time series data
in fields such as operations monitoring, application metrics, Internet of Things
sensor data, and real-time analytics.
</p>
</div>

<div id="outline-container-org23aa456" class="outline-3">
<h3 id="org23aa456">TICK stack</h3>
<div class="outline-text-3" id="text-org23aa456">
<ul class="org-ul">
<li><a href="https://portal.influxdata.com/downloads">In a glance</a></li>
<li><a href="https://www.influxdata.com/products/editions/">Falvours</a></li>
</ul>
</div>

<div id="outline-container-org5dbb351" class="outline-4">
<h4 id="org5dbb351">Kapacitor</h4>
<div class="outline-text-4" id="text-org5dbb351">
<p>
Kapacitor is an open source data processing framework that makes it easy to
create alerts, run ETL jobs and detect anomalies. Kapacitor is the final piece
of the TICK stack.
</p>

<p>
<a href="https://docs.influxdata.com/kapacitor/v1.3/">More&#x2026;</a>
</p>
</div>
</div>

<div id="outline-container-org4153c74" class="outline-4">
<h4 id="org4153c74">Chronograf</h4>
<div class="outline-text-4" id="text-org4153c74">
<p>
Chronograf is InfluxData’s open source web application. Use Chronograf with the
other components of the TICK stack to visualize your monitoring data and easily
create alerting and automation rules.
</p>

<p>
<a href="https://docs.influxdata.com/chronograf/v1.3/">More&#x2026;</a>
</p>
</div>
</div>
</div>


<div id="outline-container-org371c018" class="outline-3">
<h3 id="org371c018">Why influxdb?</h3>
<div class="outline-text-3" id="text-org371c018">
<p>
Because of features!
</p>
</div>

<div id="outline-container-orga845b16" class="outline-4">
<h4 id="orga845b16">outstanding query performance</h4>
</div>
<div id="outline-container-org87622e9" class="outline-4">
<h4 id="org87622e9"><a href="https://docs.influxdata.com/influxdb/v1.2/concepts/storage_engine/">storage designed to persist time series</a></h4>
</div>
<div id="outline-container-orgcd0fa21" class="outline-4">
<h4 id="orgcd0fa21">retention and continuous query</h4>
<div class="outline-text-4" id="text-orgcd0fa21">
<p>
Continuous Queries (CQ) are InfluxQL queries that run automatically and
periodically on realtime data and store query results in a specified
measurement.
</p>

<p>
Could be done with engine or <a href="https://docs.influxdata.com/kapacitor/v1.2/examples/continuous_queries/">Kapacitor</a>
</p>
</div>
</div>

<div id="outline-container-org6988b3e" class="outline-4">
<h4 id="org6988b3e">BUT <a href="https://www.influxdata.com/update-on-influxdb-clustering-high-availability-and-monetization/">clustering is paid</a></h4>
<div class="outline-text-4" id="text-org6988b3e">
<p>
with <a href="https://github.com/influxdata/influxdb-relay">some hope or troublesome option</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org7ec989b" class="outline-3">
<h3 id="org7ec989b">Key concepts</h3>
<div class="outline-text-3" id="text-org7ec989b">
<ul class="org-ul">
<li><a href="https://docs.influxdata.com/influxdb/v1.2/concepts/key_concepts/">Use documentation luke!</a></li>
<li><a href="https://docs.influxdata.com/influxdb/v1.2/introduction/getting_started/">Getting started</a></li>
</ul>
</div>
</div>

<div id="outline-container-org3494da2" class="outline-3">
<h3 id="org3494da2">Manage (basic)</h3>
<div class="outline-text-3" id="text-org3494da2">
<ul class="org-ul">
<li><a href="http://localhost:8888/sources/0/hosts">Chronograf - part of TICK stack</a></li>
<li><a href="http://localhost:8083">Visit admin UI (deprecated!)</a> and use query templates</li>
<li>use influxdb client (CLI)</li>
<li><p>
use HTTP
</p>
<div class="org-src-container">
<pre class="src src-sh">curl -G <span style="color: #2d9574;">\</span>
     http://localhost:8086/query?<span style="color: #7590db;">q</span>=CREATE+DATABASE+%22test3%22
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org5a4f350" class="outline-3">
<h3 id="org5a4f350">Insert some data</h3>
<div class="outline-text-3" id="text-org5a4f350">
<ul class="org-ul">
<li><a href="https://docs.influxdata.com/influxdb/v1.2/write_protocols/line_protocol_tutorial/">Line protocol</a></li>
<li>UDP</li>
<li>opentsdb</li>
<li>collectd</li>
<li>Graphite - must be enabled
Hint: -e INFLUXDB<sub>GRAPHITE</sub><sub>ENABLED</sub>=true</li>
</ul>
</div>
</div>

<div id="outline-container-org957b4d2" class="outline-3">
<h3 id="org957b4d2">Common use case</h3>
<div class="outline-text-3" id="text-org957b4d2">
<p>
To monitor host resources.
Use Telegraf, <a href="https://github.com/influxdata/telegraf">metrics collector written in Go</a> and Chronograf.
</p>
</div>
</div>
</div>

<div id="outline-container-org9c38dd6" class="outline-2">
<h2 id="org9c38dd6">Grafana</h2>
<div class="outline-text-2" id="text-org9c38dd6">
<p>
Grafana is a data visualization tool that provides ways to create, explore, and
share data in easy to understand graphical representation. It's mainly used to
visualize time series data. It supports Graphite, ElasticSearch, Prometheus,
InfluxDB, OpenTSDB, and KairosDB.
</p>

<p>
<a href="http://play.grafana.org/dashboard/db/grafana-play-home?orgId=1">Play&#x2026;</a>
</p>
</div>

<div id="outline-container-org3380c14" class="outline-3">
<h3 id="org3380c14">Create sample graphs</h3>
<div class="outline-text-3" id="text-org3380c14">
<p>
<a href="http://localhost:3000">Grafana on docker</a>
</p>
</div>
</div>

<div id="outline-container-org2c4d1d9" class="outline-3">
<h3 id="org2c4d1d9">Sample plugins</h3>
<div class="outline-text-3" id="text-org2c4d1d9">
<ul class="org-ul">
<li><a href="https://grafana.com/plugins/vonage-status-panel">Status</a></li>
<li><a href="https://grafana.com/plugins/neocat-cal-heatmap-panel">Heat map</a></li>
<li><a href="https://grafana.com/plugins/jdbranham-diagram-panel">Diagram</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgf265f50" class="outline-3">
<h3 id="orgf265f50">Lets reuse existing templates!</h3>
<div class="outline-text-3" id="text-orgf265f50">
<ul class="org-ul">
<li><a href="https://grafana.com/dashboards/61">Download JSON Telegraf dashboard</a></li>
<li>import it into grafana - done.</li>
<li><a href="https://grafana.com/dashboards">Entities are sharing</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org18d22ec" class="outline-2">
<h2 id="org18d22ec">Monitoring Java based systems</h2>
<div class="outline-text-2" id="text-org18d22ec">
<p>
Use capsaicin (jolokia)
</p>

<p>
<a href="https://jolokia.org/">Jolokia home page</a>
</p>
</div>

<div id="outline-container-org35323cd" class="outline-3">
<h3 id="org35323cd">Spring-boot</h3>
<div class="outline-text-3" id="text-org35323cd">
<p>
<a href="https://stackoverflow.com/a/42546121">Hey mum, see no codin'!</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgc180173" class="outline-2">
<h2 id="orgc180173">References</h2>
<div class="outline-text-2" id="text-orgc180173">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=d99oCnOyA4k">InfluxDB schema design</a></li>
<li><a href="https://www.youtube.com/watch?v=qeg2jwpWhPU">InfluxDb vs ES</a></li>
<li><a href="https://www.youtube.com/watch?v=N7JtXI67wVc">InfluxDb vs casaandra</a></li>
<li><a href="https://github.com/nicolargo/docker-influxdb-grafana">Easy developer setup for experiments</a></li>
<li><a href="https://hub.docker.com/_/influxdb/">Official docker image for influxdb</a></li>
<li><a href="https://docs.influxdata.com/chronograf/v1.3/">Chronograf documentation</a></li>
<li><a href="https://logz.io/blog/grafana-vs-kibana/">Kibana vs Grafana</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1088ae3" class="outline-2">
<h2 id="org1088ae3">Thank you!</h2>
<div class="outline-text-2" id="text-org1088ae3">
<p>
Have fun!
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Maciej Łotysz</p>
<p class="date">Created: 2017-06-08 Thu 13:48</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
